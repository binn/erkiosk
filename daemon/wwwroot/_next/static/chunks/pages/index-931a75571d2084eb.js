(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(1188)}])},1188:function(d,b,a){"use strict";a.r(b),a.d(b,{default:function(){return x}});var e=a(7568),c=a(4051),f=a.n(c),g=a(5893),h=a(8527),i=a(9238),j=a(4651),k=a(5193),l=a(894),m=a(7294),n=a(8193),o={facName:"Frisco ER",logoUrl:"frisco-er-logo.png"},p={LanguagePage:0,Page1:1,Page2:2,Submission:3},q=a(9762),r=a(4612);function s(a){var b=a.type,k=a.label,l=a.placeholder,m=a.errorText,n=a.helperText,o=a.labelName,c=a.invalid,d=void 0!==c&&c,e=a.mt,p=a.onChange,s=a.onKeyDown,f=a.ml,h=a.mr,i=a.mb,t=a.value,j=a.disabled,u=a.w,v=a.maxLength;return(0,g.jsxs)(q.NI,{mt:void 0===e?10:e,ml:void 0===f?0:f,mr:void 0===h?0:h,mb:void 0===i?0:i,isInvalid:d,children:[(0,g.jsx)(q.lX,{mb:o?-8:-3,children:k}),(0,g.jsx)(r.II,{type:void 0===b?"text":b,maxLength:v,value:t,borderWidth:"2px",placeholder:l,onChange:p,onKeyDown:s,disabled:void 0!==j&&j,w:u}),d?(0,g.jsx)(q.J1,{children:m}):(0,g.jsx)(q.Q6,{children:n})]})}function t(a){var u=a.setNextPage,l=a.locale,c=a.state,v=a.setFacName,w=a.setShowButtons,n=a.settings,d=(0,m.useState)(!0),x=d[0],y=d[1],e=(0,m.useState)(c.visitReason);e[0],e[1];var f=(0,m.useState)(c.social),q=f[0],z=f[1],i=(0,m.useState)(c.phone),r=i[0],A=i[1],j=(0,m.useState)(c.email),t=j[0],B=j[1],k=(0,m.useState)(n.locales[l]),b=k[0];k[1],(0,m.useEffect)(function(){x&&(u(p.Page2),v(o.facName),w(!0),y(!1))});var C=function(b){var a=b.keyCode;return a>=48&&a<=57||a>=96&&a<=105},D=function(b){var a=b.keyCode;return!0===b.shiftKey||35===a||36===a||8===a||9===a||13===a||46===a||a>36&&a<41||(!0===b.ctrlKey|| !0===b.metaKey)&&(65===a||67===a||86===a||88===a||90===a)},E=function(a){C(a)||D(a)||a.preventDefault()},F=function(b){if(!D(b)){var a=b.target.value.replace(/\D/g,"").substring(0,10),c=a.substring(0,3),d=a.substring(3,6),e=a.substring(6,10);a.length>6?b.target.value="(".concat(c,") ").concat(d,"-").concat(e):a.length>3?b.target.value="(".concat(c,") ").concat(d):a.length>0&&(b.target.value="(".concat(c))}};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.xv,{fontSize:"100%",mt:5,children:"Required Information"}),(0,g.jsx)(s,{label:b.ssn,helperText:b.ssnHelper,placeholder:"XXX-XX-XXXX",value:q,maxLength:11,mt:4,onChange:function(d){var a=d.currentTarget.value.replace(/\D/g,""),b="";a.length>4&&(d.currentTarget.value=a),a.length>3&&a.length<6&&(b+=a.substr(0,3)+"-",a=a.substr(3)),a.length>5&&(b+=a.substr(0,3)+"-",b+=a.substr(3,2)+"-",a=a.substr(5)),z(b+=a),c.social=b}}),(0,g.jsx)(s,{label:b.phone,placeholder:"(123) 456-7890",helperText:b.phoneHelper,onKeyDown:function(a){E(a)},onChange:function(a){F(a);var b=a.currentTarget.value;c.phone=b,A(b)},value:r}),(0,g.jsx)(s,{label:b.email,placeholder:"me@example.com",helperText:b.emailHelper,type:"email",onChange:function(b){var a=b.currentTarget.value;B(a),c.email=a},value:t})]})}var u=function(d){var n=d.settings,o=d.locale,b=d.state,e=(0,m.useState)(b.emergencyContact.firstName),p=e[0],u=e[1],f=(0,m.useState)(b.emergencyContact.lastName),r=f[0],v=f[1],i=(0,m.useState)(b.emergencyContact.phone),t=i[0],w=i[1],j=(0,m.useState)(n.locales[o]),a=j[0];j[1];var l=(0,m.useState)(b.emergencyContact.relationship?b.emergencyContact.relationship:"spouse"),c=l[0],x=l[1],y=function(b){var a=b.keyCode;return a>=48&&a<=57||a>=96&&a<=105},z=function(b){var a=b.keyCode;return!0===b.shiftKey||35===a||36===a||8===a||9===a||13===a||46===a||a>36&&a<41||(!0===b.ctrlKey|| !0===b.metaKey)&&(65===a||67===a||86===a||88===a||90===a)},A=function(a){y(a)||z(a)||a.preventDefault()},B=function(b){if(!z(b)){var a=b.target.value.replace(/\D/g,"").substring(0,10),c=a.substring(0,3),d=a.substring(3,6),e=a.substring(6,10);a.length>6?b.target.value="(".concat(c,") ").concat(d,"-").concat(e):a.length>3?b.target.value="(".concat(c,") ").concat(d):a.length>0&&(b.target.value="(".concat(c))}};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.xv,{fontSize:"100%",mt:5,children:"Emergency Contact"}),(0,g.jsxs)(q.NI,{children:[(0,g.jsxs)(h.kC,{mt:-6,children:[(0,g.jsx)(s,{placeholder:a.emergencyContact.firstName,errorText:a.emergencyContact.firstNameError,label:a.emergencyContact.firstName,labelName:!0,mr:4,value:p,onChange:function(a){a.currentTarget.value=a.currentTarget.value.toLocaleUpperCase(),u(a.currentTarget.value),b.emergencyContact.firstName=a.currentTarget.value}}),(0,g.jsx)(s,{placeholder:a.emergencyContact.lastName,errorText:a.emergencyContact.lastNameError,label:a.emergencyContact.lastName,labelName:!0,value:r,onChange:function(a){a.currentTarget.value=a.currentTarget.value.toLocaleUpperCase(),v(a.currentTarget.value),b.emergencyContact.lastName=a.currentTarget.value}})]}),(0,g.jsx)(q.Q6,{mt:-1.5,children:a.emergencyContact.nameHelper})]}),(0,g.jsx)(s,{label:a.emergencyContact.phone,placeholder:"(123) 456-7890",helperText:a.emergencyContact.phoneHelper,onKeyDown:function(a){A(a)},onChange:function(a){B(a);var c=a.currentTarget.value;b.emergencyContact.phone=c,w(c)},value:t}),(0,g.jsx)(q.lX,{mt:10,children:a.emergencyContact.relationship}),(0,g.jsxs)(h.MI,{columns:5,spacing:2,children:[(0,g.jsx)(k.zx,{bg:"Spouse"===c?"lightblue":"",onClick:function(){x("Spouse"),b.emergencyContact.relationship="Spouse"},children:a.emergencyContact.relationshipOptions.spouse}),(0,g.jsx)(k.zx,{bg:"Parent"===c?"lightblue":"",onClick:function(){x("Parent"),b.emergencyContact.relationship="Parent"},children:a.emergencyContact.relationshipOptions.parent}),(0,g.jsx)(k.zx,{bg:"Child"===c?"lightblue":"",onClick:function(){x("Child"),b.emergencyContact.relationship="Child"},children:a.emergencyContact.relationshipOptions.child}),(0,g.jsx)(k.zx,{bg:"Relative"===c?"lightblue":"",onClick:function(){x("Relative"),b.emergencyContact.relationship="Relative"},children:a.emergencyContact.relationshipOptions.relative}),(0,g.jsx)(k.zx,{bg:"Other"===c?"lightblue":"",onClick:function(){x("Other"),b.emergencyContact.relationship="Other"},children:a.emergencyContact.relationshipOptions.other})]})]})},v=function(a){var o=a.setLocale,d=a.setNextPage,e=a.locale,f=a.setFacName,i=a.settings,j=a.setShowButtons,r=a.next,l=a.state,b=(0,m.useState)(i.locales[e]),n=b[0];b[1];var c=(0,m.useState)(!0),s=c[0],t=c[1];return(0,m.useEffect)(function(){s&&t(!1)}),d(p.Page1),f("Select Language"),j(!1),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(h.W2,{maxW:"100%",mt:100,children:[(0,g.jsx)(h.M5,{children:(0,g.jsxs)(h.xv,{fontSize:"80%",animation:"animation 3s infinite",mb:5,children:[n.greeting,", ",l.firstName,"!"]})}),(0,g.jsx)(h.M5,{children:(0,g.jsx)(k.zx,{w:"90%",h:100,onClick:function(){o("en"),r()},children:"English"})}),(0,g.jsx)(h.M5,{children:(0,g.jsx)(k.zx,{w:"90%",h:100,onClick:function(){o("es"),r()},mt:15,children:"Espa\xf1ol"})}),(0,g.jsx)(q.NI,{children:(0,g.jsx)(h.M5,{children:(0,g.jsx)(q.Q6,{mt:5,children:"Please select a language to continue."})})})]})})};function w(a){var n=a.page,o=a.setLocale,b=a.setNextPage,c=a.locale,d=a.state,j=a.setFacName,q=a.next,r=a.connection,k=a.setShowButtons,l=a.settings,m=a.setFinishNext,s=a.setState,w=a.setPendingKioskOpen;switch(n){case p.Page1:return m(!1),(0,g.jsx)(t,{setNextPage:b,locale:c,state:d,setFacName:j,settings:l,setShowButtons:k});case p.Page2:return m(!0),(0,g.jsx)(u,{setNextPage:b,locale:c,state:d,setFacName:j,settings:l,setShowButtons:k});case p.Submission:return(0,e.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.invoke("CompletePatient",{id:d.id,first:d.firstName,last:d.lastName,social:d.social,phone:d.phone,email:d.email,language:"en"===c?"ENGLISH":"SPANISH",emergencyContactFirst:d.emergencyContact.firstName,emergencyContactLast:d.emergencyContact.lastName,emergencyContactPhone:d.emergencyContact.phone,emergencyContactRelationship:d.emergencyContact.relationship,completed:!0});case 2:fetch("http://localhost:5133/recording/end").catch(function(a){}),k(!1),s({}),w(!0);case 6:case"end":return a.stop()}},a)}))(),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.M5,{mt:40,children:(0,g.jsx)(i.$,{})})});default:return m(!1),(0,g.jsx)(v,{setLocale:o,setNextPage:b,locale:c,state:d,settings:l,setFacName:j,next:q,setShowButtons:k})}}var x=function(b){var B=b.connection,c=b.settings,d=(0,m.useState)(!0),C=d[0],P=d[1],e=(0,m.useState)("en"),f=e[0],Q=e[1],q=(0,m.useState)(p.Page1),R=q[0],D=q[1],r=(0,m.useState)([p.LanguagePage]),S=r[0];r[1];var s=(0,m.useState)(p.LanguagePage),E=s[0],T=s[1],t=(0,m.useState)({}),F=t[0],G=t[1],u=(0,m.useState)(!0),H=u[0],I=u[1],v=(0,m.useState)(o.facName),J=(v[0],v[1]),x=(0,m.useState)(!1),K=x[0],L=x[1],y=(0,m.useState)(!1),M=y[0],N=y[1],z=(0,m.useState)(c.locales[f]),a=z[0],U=z[1];if((0,m.useEffect)(function(){C&&(localStorage.setItem("chakra-ui-color-mode","light"),B.on("OpenKiosk",function(a){fetch("http://localhost:5133/recording/begin").catch(function(a){}),G({id:a.id,firstName:a.first,lastName:a.last,social:a.social,phone:a.phone,email:a.email,emergencyContact:{relationship:a.emergencyContactRelationship?a.emergencyContactRelationship:"Spouse",firstName:a.emergencyContactFirst,lastName:a.emergencyContactLast,phone:a.emergencyContactPhone}}),T(p.LanguagePage),I(!1)}),B.on("CloseKiosk",function(){fetch("http://localhost:5133/recording/end").catch(function(a){}),T(p.Submission),G({}),I(!0)}),P(!1))}),C)return(0,g.jsx)(h.M5,{children:(0,g.jsx)(i.$,{mt:100})});if(H)return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.M5,{h:"100vh",children:(0,g.jsx)(j.Ee,{w:"40%",h:"auto",src:o.logoUrl,animation:"animation 3s infinite"})})});var O=function(){T(S[S.length-1]),delete S[S.length-1]},A=function(){if(M)return T(p.Submission);R!==E&&(S.push(E),T(R))};return(0,g.jsx)(h.M5,{h:"100vh",children:(0,g.jsxs)(h.xu,{p:50,w:"50%",h:"90%",borderWidth:"1px",shadow:"md",borderRadius:"10px",position:"relative",children:[(0,g.jsx)(h.M5,{children:(0,g.jsx)(j.Ee,{w:"50%",h:"auto",src:o.logoUrl})}),(0,g.jsx)(w,{setFinishNext:N,settings:c,page:E,setLocale:function(a){Q(a),U(c.locales[a])},setNextPage:D,setState:G,connection:B,setPendingKioskOpen:I,locale:f,state:F,setFacName:J,setShowButtons:L,next:A}),(0,g.jsx)(h.M5,{hidden:!K,children:(0,g.jsxs)(h.W2,{position:"absolute",maxW:"100%",bottom:16,children:[(0,g.jsx)(k.zx,{position:"absolute",w:"45%",left:5,leftIcon:(0,g.jsx)(l.JO,{as:n.kyg}),onClick:O,children:a.previous}),(0,g.jsx)(k.zx,{position:"absolute",w:"45%",right:5,rightIcon:(0,g.jsx)(l.JO,{as:n.mGl}),onClick:A,children:M?a.finish:a.next})]})})]})})}}},function(a){a.O(0,[617,437,774,888,179],function(){var b;return a(a.s=5557)}),_N_E=a.O()}])